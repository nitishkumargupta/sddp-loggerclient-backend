"use strict";(self.webpackChunksddp_logger_frontend=self.webpackChunksddp_logger_frontend||[]).push([[33],{4683:(J,T,_)=>{_.r(T),_.d(T,{AccountModule:()=>fn});var l=_(8996),C=_(9609),I=_(5577),e=_(4650),p=_(529),U=_(1082);let F=(()=>{class n{constructor(t,r){this.http=t,this.applicationConfigService=r}get(t){return this.http.get(this.applicationConfigService.getEndpointFor("api/activate"),{params:(new p.LE).set("key",t)})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(p.eN),e.LFG(U.y))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var g=_(6895);function d(n,o){1&n&&(e.TgZ(0,"div",4),e._uU(1,"\n        "),e.TgZ(2,"span")(3,"strong"),e._uU(4,"Your user account has been activated."),e.qZA(),e._uU(5," Please "),e.qZA(),e._uU(6,"\n        "),e.TgZ(7,"a",5),e._uU(8,"sign in"),e.qZA(),e._uU(9,".\n      "),e.qZA())}function w(n,o){1&n&&(e.TgZ(0,"div",6),e._uU(1,"\n        "),e.TgZ(2,"strong"),e._uU(3,"Your user could not be activated."),e.qZA(),e._uU(4," Please use the registration form to sign up.\n      "),e.qZA())}const m={path:"activate",component:(()=>{class n{constructor(t,r){this.activateService=t,this.route=r,this.error=!1,this.success=!1}ngOnInit(){this.route.queryParams.pipe((0,I.z)(t=>this.activateService.get(t.key))).subscribe({next:()=>this.success=!0,error:()=>this.error=!0})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(F),e.Y36(l.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["jhi-activate"]],decls:16,vars:2,consts:[[1,"d-flex","justify-content-center"],[1,"col-md-8"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-success"],["routerLink","/login",1,"alert-link"],[1,"alert","alert-danger"]],template:function(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1,"\n  "),e.TgZ(2,"div",0),e._uU(3,"\n    "),e.TgZ(4,"div",1),e._uU(5,"\n      "),e.TgZ(6,"h1"),e._uU(7,"Activation"),e.qZA(),e._uU(8,"\n\n      "),e.YNc(9,d,10,0,"div",2),e._uU(10,"\n\n      "),e.YNc(11,w,5,0,"div",3),e._uU(12,"\n    "),e.qZA(),e._uU(13,"\n  "),e.qZA(),e._uU(14,"\n"),e.qZA(),e._uU(15,"\n")),2&t&&(e.xp6(9),e.Q6J("ngIf",r.success),e.xp6(2),e.Q6J("ngIf",r.error))},dependencies:[g.O5,l.yS],encapsulation:2}),n})(),data:{pageTitle:"Activation"}};var f=_(8059),s=_(433);let N=(()=>{class n{constructor(t,r){this.http=t,this.applicationConfigService=r}save(t,r){return this.http.post(this.applicationConfigService.getEndpointFor("api/account/change-password"),{new_password:t,current_password:r})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(p.eN),e.LFG(U.y))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Z=_(9199);let h=(()=>{class n{constructor(t,r){this.renderer=t,this.elementRef=r,this.colors=["#F00","#F90","#FF0","#9F0","#0F0"]}set passwordToCheck(t){if(t){const r=this.getColor(this.measureStrength(t)),i=this.elementRef.nativeElement;i.className&&this.renderer.removeClass(i,i.className);const a=i.getElementsByTagName("li");for(let c=0;c<a.length;c++)this.renderer.setStyle(a[c],"backgroundColor",c<r.idx?r.color:"#DDD")}}measureStrength(t){let r=0;const q=[/[a-z]+/.test(t),/[A-Z]+/.test(t),/\d+/.test(t),/[$-/:-?{-~!"^_`[\]]/g.test(t)].filter(hn=>!0===hn).length;return r+=2*t.length+(t.length>=10?1:0),r+=10*q,r=t.length<=6?Math.min(r,10):r,r=1===q?Math.min(r,10):r,r=2===q?Math.min(r,20):r,r=3===q?Math.min(r,40):r,r}getColor(t){let r=0;return t>10&&(r=t<=20?1:t<=30?2:t<=40?3:4),{idx:r+1,color:this.colors[r]}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Qsj),e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["jhi-password-strength-bar"]],inputs:{passwordToCheck:"passwordToCheck"},decls:19,vars:0,consts:[["id","strength"],["id","strengthBar"],[1,"point"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e._uU(1,"\n  "),e.TgZ(2,"small"),e._uU(3,"Password strength:"),e.qZA(),e._uU(4,"\n  "),e.TgZ(5,"ul",1),e._uU(6,"\n    "),e._UZ(7,"li",2),e._uU(8,"\n    "),e._UZ(9,"li",2),e._uU(10,"\n    "),e._UZ(11,"li",2),e._uU(12,"\n    "),e._UZ(13,"li",2),e._uU(14,"\n    "),e._UZ(15,"li",2),e._uU(16,"\n  "),e.qZA(),e._uU(17,"\n"),e.qZA(),e._uU(18,"\n"))},styles:["ul#strength[_ngcontent-%COMP%]{display:inline;list-style:none;margin:0 0 0 15px;padding:0;vertical-align:2px}.point[_ngcontent-%COMP%]{background:#ddd;border-radius:2px;display:inline-block;height:5px;margin-right:1px;width:20px}.point[_ngcontent-%COMP%]:last-child{margin:0!important}"]}),n})();function x(n,o){1&n&&(e.TgZ(0,"div",16),e._uU(1,"\n        "),e.TgZ(2,"strong"),e._uU(3,"Password changed!"),e.qZA(),e._uU(4,"\n      "),e.qZA())}function A(n,o){1&n&&(e.TgZ(0,"div",17)(1,"strong"),e._uU(2,"An error has occurred!"),e.qZA(),e._uU(3," The password could not be changed."),e.qZA())}function P(n,o){1&n&&(e.TgZ(0,"div",17),e._uU(1,"The password and its confirmation do not match!"),e.qZA())}function Q(n,o){1&n&&(e.TgZ(0,"small",19),e._uU(1,"\n              Your password is required.\n            "),e.qZA())}function S(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1,"\n            "),e.YNc(2,Q,2,0,"small",18),e._uU(3,"\n          "),e.qZA()),2&n){const t=e.oxw(2);let r;e.xp6(2),e.Q6J("ngIf",null==(r=t.passwordForm.get("currentPassword"))||null==r.errors?null:r.errors.required)}}function E(n,o){1&n&&(e.TgZ(0,"small",19),e._uU(1,"\n              Your password is required.\n            "),e.qZA())}function k(n,o){1&n&&(e.TgZ(0,"small",19),e._uU(1,"\n              Your password is required to be at least 4 characters.\n            "),e.qZA())}function L(n,o){1&n&&(e.TgZ(0,"small",19),e._uU(1,"\n              Your password cannot be longer than 50 characters.\n            "),e.qZA())}function O(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1,"\n            "),e.YNc(2,E,2,0,"small",18),e._uU(3,"\n\n            "),e.YNc(4,k,2,0,"small",18),e._uU(5,"\n\n            "),e.YNc(6,L,2,0,"small",18),e._uU(7,"\n          "),e.qZA()),2&n){const t=e.oxw(2);let r,i,a;e.xp6(2),e.Q6J("ngIf",null==(r=t.passwordForm.get("newPassword"))||null==r.errors?null:r.errors.required),e.xp6(2),e.Q6J("ngIf",null==(i=t.passwordForm.get("newPassword"))||null==i.errors?null:i.errors.minlength),e.xp6(2),e.Q6J("ngIf",null==(a=t.passwordForm.get("newPassword"))||null==a.errors?null:a.errors.maxlength)}}function M(n,o){1&n&&(e.TgZ(0,"small",19),e._uU(1,"\n              Your confirmation password is required.\n            "),e.qZA())}function G(n,o){1&n&&(e.TgZ(0,"small",19),e._uU(1,"\n              Your confirmation password is required to be at least 4 characters.\n            "),e.qZA())}function z(n,o){1&n&&(e.TgZ(0,"small",19),e._uU(1,"\n              Your confirmation password cannot be longer than 50 characters.\n            "),e.qZA())}function j(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1,"\n            "),e.YNc(2,M,2,0,"small",18),e._uU(3,"\n\n            "),e.YNc(4,G,2,0,"small",18),e._uU(5,"\n\n            "),e.YNc(6,z,2,0,"small",18),e._uU(7,"\n          "),e.qZA()),2&n){const t=e.oxw(2);let r,i,a;e.xp6(2),e.Q6J("ngIf",null==(r=t.passwordForm.get("confirmPassword"))||null==r.errors?null:r.errors.required),e.xp6(2),e.Q6J("ngIf",null==(i=t.passwordForm.get("confirmPassword"))||null==i.errors?null:i.errors.minlength),e.xp6(2),e.Q6J("ngIf",null==(a=t.passwordForm.get("confirmPassword"))||null==a.errors?null:a.errors.maxlength)}}function D(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",2),e._uU(1,"\n      "),e.TgZ(2,"h2"),e._uU(3,"\n        Password for ["),e.TgZ(4,"strong"),e._uU(5),e.qZA(),e._uU(6,"]\n      "),e.qZA(),e._uU(7,"\n\n      "),e.YNc(8,x,5,0,"div",3),e._uU(9,"\n\n      "),e.YNc(10,A,4,0,"div",4),e._uU(11,"\n\n      "),e.YNc(12,P,2,0,"div",4),e._uU(13,"\n\n      "),e.TgZ(14,"form",5),e.NdJ("ngSubmit",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.changePassword())}),e._uU(15,"\n        "),e.TgZ(16,"div",6),e._uU(17,"\n          "),e.TgZ(18,"label",7),e._uU(19,"Current password"),e.qZA(),e._uU(20,"\n          "),e._UZ(21,"input",8),e._uU(22,"\n\n          "),e.YNc(23,S,4,1,"div",9),e._uU(24,"\n        "),e.qZA(),e._uU(25,"\n\n        "),e.TgZ(26,"div",6),e._uU(27,"\n          "),e.TgZ(28,"label",10),e._uU(29,"New password"),e.qZA(),e._uU(30,"\n          "),e._UZ(31,"input",11),e._uU(32,"\n\n          "),e.YNc(33,O,8,3,"div",9),e._uU(34,"\n\n          "),e._UZ(35,"jhi-password-strength-bar",12),e._uU(36,"\n        "),e.qZA(),e._uU(37,"\n\n        "),e.TgZ(38,"div",6),e._uU(39,"\n          "),e.TgZ(40,"label",13),e._uU(41,"New password confirmation"),e.qZA(),e._uU(42,"\n          "),e._UZ(43,"input",14),e._uU(44,"\n\n          "),e.YNc(45,j,8,3,"div",9),e._uU(46,"\n        "),e.qZA(),e._uU(47,"\n\n        "),e.TgZ(48,"button",15),e._uU(49,"Save"),e.qZA(),e._uU(50,"\n      "),e.qZA(),e._uU(51,"\n    "),e.qZA()}if(2&n){const t=o.ngIf,r=e.oxw();e.xp6(5),e.Oqu(t.email),e.xp6(3),e.Q6J("ngIf",r.success),e.xp6(2),e.Q6J("ngIf",r.error),e.xp6(2),e.Q6J("ngIf",r.doNotMatch),e.xp6(2),e.Q6J("formGroup",r.passwordForm),e.xp6(9),e.Q6J("ngIf",r.passwordForm.get("currentPassword").invalid&&(r.passwordForm.get("currentPassword").dirty||r.passwordForm.get("currentPassword").touched)),e.xp6(10),e.Q6J("ngIf",r.passwordForm.get("newPassword").invalid&&(r.passwordForm.get("newPassword").dirty||r.passwordForm.get("newPassword").touched)),e.xp6(2),e.Q6J("passwordToCheck",r.passwordForm.get("newPassword").value),e.xp6(10),e.Q6J("ngIf",r.passwordForm.get("confirmPassword").invalid&&(r.passwordForm.get("confirmPassword").dirty||r.passwordForm.get("confirmPassword").touched)),e.xp6(3),e.Q6J("disabled",r.passwordForm.invalid)}}const B={path:"password",component:(()=>{class n{constructor(t,r){this.passwordService=t,this.accountService=r,this.doNotMatch=!1,this.error=!1,this.success=!1,this.passwordForm=new s.cw({currentPassword:new s.NI("",{nonNullable:!0,validators:s.kI.required}),newPassword:new s.NI("",{nonNullable:!0,validators:[s.kI.required,s.kI.minLength(4),s.kI.maxLength(50)]}),confirmPassword:new s.NI("",{nonNullable:!0,validators:[s.kI.required,s.kI.minLength(4),s.kI.maxLength(50)]})})}ngOnInit(){this.account$=this.accountService.identity()}changePassword(){this.error=!1,this.success=!1,this.doNotMatch=!1;const{newPassword:t,confirmPassword:r,currentPassword:i}=this.passwordForm.getRawValue();t!==r?this.doNotMatch=!0:this.passwordService.save(t,i).subscribe({next:()=>this.success=!0,error:()=>this.error=!0})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(N),e.Y36(Z.B))},n.\u0275cmp=e.Xpm({type:n,selectors:[["jhi-password"]],decls:9,vars:3,consts:[[1,"d-flex","justify-content-center"],["class","col-md-8",4,"ngIf"],[1,"col-md-8"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["name","form","role","form",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","currentPassword",1,"form-label"],["data-cy","currentPassword","formControlName","currentPassword","id","currentPassword","name","currentPassword","placeholder","Current password","type","password",1,"form-control"],[4,"ngIf"],["for","newPassword",1,"form-label"],["data-cy","newPassword","formControlName","newPassword","id","newPassword","name","newPassword","placeholder","New password","type","password",1,"form-control"],[3,"passwordToCheck"],["for","confirmPassword",1,"form-label"],["data-cy","confirmPassword","formControlName","confirmPassword","id","confirmPassword","name","confirmPassword","placeholder","Confirm the new password","type","password",1,"form-control"],["data-cy","submit","type","submit",1,"btn","btn-primary",3,"disabled"],[1,"alert","alert-success"],[1,"alert","alert-danger"],["class","form-text text-danger",4,"ngIf"],[1,"form-text","text-danger"]],template:function(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1,"\n  "),e.TgZ(2,"div",0),e._uU(3,"\n    "),e.YNc(4,D,52,10,"div",1),e.ALo(5,"async"),e._uU(6,"\n  "),e.qZA(),e._uU(7,"\n"),e.qZA(),e._uU(8,"\n")),2&t&&(e.xp6(4),e.Q6J("ngIf",e.lcZ(5,1,r.account$)))},dependencies:[s._Y,s.Fj,s.JJ,s.JL,g.O5,s.sg,s.u,h,g.Ov],encapsulation:2}),n})(),data:{pageTitle:"Password"},canActivate:[f.Z]};let K=(()=>{class n{constructor(t,r){this.http=t,this.applicationConfigService=r}save(t,r){return this.http.post(this.applicationConfigService.getEndpointFor("api/account/reset-password/finish"),{key:t,newPassword:r})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(p.eN),e.LFG(U.y))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const H=["newPassword"];function V(n,o){1&n&&(e.TgZ(0,"div",6),e._uU(1,"The reset key is missing."),e.qZA())}function $(n,o){1&n&&(e.TgZ(0,"div",7),e._uU(1,"\n        "),e.TgZ(2,"span"),e._uU(3,"Choose a new password"),e.qZA(),e._uU(4,"\n      "),e.qZA())}function X(n,o){1&n&&(e.TgZ(0,"div",6),e._uU(1,"\n        "),e.TgZ(2,"span"),e._uU(3,"Your password couldn't be reset. Remember a password request is only valid for 24 hours."),e.qZA(),e._uU(4,"\n      "),e.qZA())}function W(n,o){1&n&&(e.TgZ(0,"div",8),e._uU(1,"\n        "),e.TgZ(2,"span")(3,"strong"),e._uU(4,"Your password has been reset."),e.qZA(),e._uU(5," Please "),e.qZA(),e._uU(6,"\n        "),e.TgZ(7,"a",9),e._uU(8,"sign in"),e.qZA(),e._uU(9,".\n      "),e.qZA())}function ee(n,o){1&n&&(e.TgZ(0,"div",6),e._uU(1,"The password and its confirmation do not match!"),e.qZA())}function ne(n,o){1&n&&(e.TgZ(0,"small",20),e._uU(1,"\n                Your password is required.\n              "),e.qZA())}function te(n,o){1&n&&(e.TgZ(0,"small",20),e._uU(1,"\n                Your password is required to be at least 4 characters.\n              "),e.qZA())}function re(n,o){1&n&&(e.TgZ(0,"small",20),e._uU(1,"\n                Your password cannot be longer than 50 characters.\n              "),e.qZA())}function se(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1,"\n              "),e.YNc(2,ne,2,0,"small",19),e._uU(3,"\n\n              "),e.YNc(4,te,2,0,"small",19),e._uU(5,"\n\n              "),e.YNc(6,re,2,0,"small",19),e._uU(7,"\n            "),e.qZA()),2&n){const t=e.oxw(2);let r,i,a;e.xp6(2),e.Q6J("ngIf",null==(r=t.passwordForm.get("newPassword"))||null==r.errors?null:r.errors.required),e.xp6(2),e.Q6J("ngIf",null==(i=t.passwordForm.get("newPassword"))||null==i.errors?null:i.errors.minlength),e.xp6(2),e.Q6J("ngIf",null==(a=t.passwordForm.get("newPassword"))||null==a.errors?null:a.errors.maxlength)}}function oe(n,o){1&n&&(e.TgZ(0,"small",20),e._uU(1,"\n                Your confirmation password is required.\n              "),e.qZA())}function ie(n,o){1&n&&(e.TgZ(0,"small",20),e._uU(1,"\n                Your confirmation password is required to be at least 4 characters.\n              "),e.qZA())}function ae(n,o){1&n&&(e.TgZ(0,"small",20),e._uU(1,"\n                Your confirmation password cannot be longer than 50 characters.\n              "),e.qZA())}function le(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1,"\n              "),e.YNc(2,oe,2,0,"small",19),e._uU(3,"\n\n              "),e.YNc(4,ie,2,0,"small",19),e._uU(5,"\n\n              "),e.YNc(6,ae,2,0,"small",19),e._uU(7,"\n            "),e.qZA()),2&n){const t=e.oxw(2);let r,i,a;e.xp6(2),e.Q6J("ngIf",null==(r=t.passwordForm.get("confirmPassword"))||null==r.errors?null:r.errors.required),e.xp6(2),e.Q6J("ngIf",null==(i=t.passwordForm.get("confirmPassword"))||null==i.errors?null:i.errors.minlength),e.xp6(2),e.Q6J("ngIf",null==(a=t.passwordForm.get("confirmPassword"))||null==a.errors?null:a.errors.maxlength)}}function ue(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div"),e._uU(1,"\n        "),e.TgZ(2,"form",10),e.NdJ("ngSubmit",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.finishReset())}),e._uU(3,"\n          "),e.TgZ(4,"div",11),e._uU(5,"\n            "),e.TgZ(6,"label",12),e._uU(7,"New password"),e.qZA(),e._uU(8,"\n            "),e._UZ(9,"input",13,14),e._uU(11,"\n\n            "),e.YNc(12,se,8,3,"div",5),e._uU(13,"\n\n            "),e._UZ(14,"jhi-password-strength-bar",15),e._uU(15,"\n          "),e.qZA(),e._uU(16,"\n\n          "),e.TgZ(17,"div",11),e._uU(18,"\n            "),e.TgZ(19,"label",16),e._uU(20,"New password confirmation"),e.qZA(),e._uU(21,"\n            "),e._UZ(22,"input",17),e._uU(23,"\n\n            "),e.YNc(24,le,8,3,"div",5),e._uU(25,"\n          "),e.qZA(),e._uU(26,"\n\n          "),e.TgZ(27,"button",18),e._uU(28,"Validate new password"),e.qZA(),e._uU(29,"\n        "),e.qZA(),e._uU(30,"\n      "),e.qZA()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("formGroup",t.passwordForm),e.xp6(10),e.Q6J("ngIf",t.passwordForm.get("newPassword").invalid&&(t.passwordForm.get("newPassword").dirty||t.passwordForm.get("newPassword").touched)),e.xp6(2),e.Q6J("passwordToCheck",t.passwordForm.get("newPassword").value),e.xp6(10),e.Q6J("ngIf",t.passwordForm.get("confirmPassword").invalid&&(t.passwordForm.get("confirmPassword").dirty||t.passwordForm.get("confirmPassword").touched)),e.xp6(3),e.Q6J("disabled",t.passwordForm.invalid)}}const _e={path:"reset/finish",component:(()=>{class n{constructor(t,r){this.passwordResetFinishService=t,this.route=r,this.initialized=!1,this.doNotMatch=!1,this.error=!1,this.success=!1,this.key="",this.passwordForm=new s.cw({newPassword:new s.NI("",{nonNullable:!0,validators:[s.kI.required,s.kI.minLength(4),s.kI.maxLength(50)]}),confirmPassword:new s.NI("",{nonNullable:!0,validators:[s.kI.required,s.kI.minLength(4),s.kI.maxLength(50)]})})}ngOnInit(){this.route.queryParams.subscribe(t=>{t.key&&(this.key=t.key),this.initialized=!0})}ngAfterViewInit(){this.newPassword&&this.newPassword.nativeElement.focus()}finishReset(){this.doNotMatch=!1,this.error=!1;const{newPassword:t,confirmPassword:r}=this.passwordForm.getRawValue();t!==r?this.doNotMatch=!0:this.passwordResetFinishService.save(this.key,t).subscribe({next:()=>this.success=!0,error:()=>this.error=!0})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(K),e.Y36(l.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["jhi-password-reset-finish"]],viewQuery:function(t,r){if(1&t&&e.Gf(H,5),2&t){let i;e.iGM(i=e.CRH())&&(r.newPassword=i.first)}},decls:24,vars:6,consts:[[1,"d-flex","justify-content-center"],[1,"col-md-4"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[4,"ngIf"],[1,"alert","alert-danger"],[1,"alert","alert-warning"],[1,"alert","alert-success"],["routerLink","/login",1,"alert-link"],["name","form","role","form",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","newPassword",1,"form-label"],["data-cy","resetPassword","formControlName","newPassword","id","newPassword","name","newPassword","placeholder","New password","type","password",1,"form-control"],["newPassword",""],[3,"passwordToCheck"],["for","confirmPassword",1,"form-label"],["data-cy","confirmResetPassword","formControlName","confirmPassword","id","confirmPassword","name","confirmPassword","placeholder","Confirm the new password","type","password",1,"form-control"],["data-cy","submit","type","submit",1,"btn","btn-primary",3,"disabled"],["class","form-text text-danger",4,"ngIf"],[1,"form-text","text-danger"]],template:function(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1,"\n  "),e.TgZ(2,"div",0),e._uU(3,"\n    "),e.TgZ(4,"div",1),e._uU(5,"\n      "),e.TgZ(6,"h1"),e._uU(7,"Reset password"),e.qZA(),e._uU(8,"\n\n      "),e.YNc(9,V,2,0,"div",2),e._uU(10,"\n\n      "),e.YNc(11,$,5,0,"div",3),e._uU(12,"\n\n      "),e.YNc(13,X,5,0,"div",2),e._uU(14,"\n\n      "),e.YNc(15,W,10,0,"div",4),e._uU(16,"\n\n      "),e.YNc(17,ee,2,0,"div",2),e._uU(18,"\n\n      "),e.YNc(19,ue,31,5,"div",5),e._uU(20,"\n    "),e.qZA(),e._uU(21,"\n  "),e.qZA(),e._uU(22,"\n"),e.qZA(),e._uU(23,"\n")),2&t&&(e.xp6(9),e.Q6J("ngIf",r.initialized&&!r.key),e.xp6(2),e.Q6J("ngIf",r.key&&!r.success),e.xp6(2),e.Q6J("ngIf",r.error),e.xp6(2),e.Q6J("ngIf",r.success),e.xp6(2),e.Q6J("ngIf",r.doNotMatch),e.xp6(2),e.Q6J("ngIf",r.key&&!r.success))},dependencies:[s._Y,s.Fj,s.JJ,s.JL,g.O5,s.sg,s.u,l.yS,h],encapsulation:2}),n})(),data:{pageTitle:"Password"}};let me=(()=>{class n{constructor(t,r){this.http=t,this.applicationConfigService=r}save(t){return this.http.post(this.applicationConfigService.getEndpointFor("api/account/reset-password/init"),{email:t})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(p.eN),e.LFG(U.y))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Y=_(486);const ce=["email"];function de(n,o){1&n&&(e.TgZ(0,"div",5),e._uU(1,"\n        "),e.TgZ(2,"span"),e._uU(3,"Enter the email address you used to register"),e.qZA(),e._uU(4,"\n      "),e.qZA())}function ge(n,o){1&n&&(e.TgZ(0,"div",6),e._uU(1,"\n        "),e.TgZ(2,"span"),e._uU(3,"Check your emails for details on how to reset your password."),e.qZA(),e._uU(4,"\n      "),e.qZA())}function pe(n,o){1&n&&(e.TgZ(0,"small",15),e._uU(1," Your email is required. "),e.qZA())}function fe(n,o){1&n&&(e.TgZ(0,"small",15),e._uU(1," Your email is invalid. "),e.qZA())}function he(n,o){1&n&&(e.TgZ(0,"small",15),e._uU(1,"\n              Your email is required to be at least 5 characters.\n            "),e.qZA())}function Ue(n,o){1&n&&(e.TgZ(0,"small",15),e._uU(1,"\n              Your email cannot be longer than 50 characters.\n            "),e.qZA())}function we(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1,"\n            "),e.YNc(2,pe,2,0,"small",14),e._uU(3,"\n\n            "),e.YNc(4,fe,2,0,"small",14),e._uU(5,"\n\n            "),e.YNc(6,he,2,0,"small",14),e._uU(7,"\n\n            "),e.YNc(8,Ue,2,0,"small",14),e._uU(9,"\n          "),e.qZA()),2&n){const t=e.oxw(2);let r,i,a,c;e.xp6(2),e.Q6J("ngIf",null==(r=t.resetRequestForm.get("email"))||null==r.errors?null:r.errors.required),e.xp6(2),e.Q6J("ngIf",null==(i=t.resetRequestForm.get("email"))||null==i.errors?null:i.errors.email),e.xp6(2),e.Q6J("ngIf",null==(a=t.resetRequestForm.get("email"))||null==a.errors?null:a.errors.minlength),e.xp6(2),e.Q6J("ngIf",null==(c=t.resetRequestForm.get("email"))||null==c.errors?null:c.errors.maxlength)}}function ve(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",7),e.NdJ("ngSubmit",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.requestReset())}),e._uU(1,"\n        "),e.TgZ(2,"div",8),e._uU(3,"\n          "),e.TgZ(4,"label",9),e._uU(5,"Email"),e.qZA(),e._uU(6,"\n          "),e._UZ(7,"input",10,11),e._uU(9,"\n\n          "),e.YNc(10,we,10,4,"div",12),e._uU(11,"\n        "),e.qZA(),e._uU(12,"\n\n        "),e.TgZ(13,"button",13),e._uU(14,"Reset password"),e.qZA(),e._uU(15,"\n      "),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.resetRequestForm),e.xp6(10),e.Q6J("ngIf",t.resetRequestForm.get("email").invalid&&(t.resetRequestForm.get("email").dirty||t.resetRequestForm.get("email").touched)),e.xp6(3),e.Q6J("disabled",t.resetRequestForm.invalid)}}const Ze={path:"reset/request",component:(()=>{class n{constructor(t,r){this.passwordResetInitService=t,this.fb=r,this.success=!1,this.resetRequestForm=this.fb.group({email:["",[s.kI.required,s.kI.minLength(5),s.kI.maxLength(254),s.kI.email]]})}ngAfterViewInit(){this.email&&this.email.nativeElement.focus()}requestReset(){this.passwordResetInitService.save(this.resetRequestForm.get(["email"]).value).subscribe(()=>this.success=!0)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(me),e.Y36(s.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["jhi-password-reset-init"]],viewQuery:function(t,r){if(1&t&&e.Gf(ce,5),2&t){let i;e.iGM(i=e.CRH())&&(r.email=i.first)}},decls:20,vars:3,consts:[[1,"d-flex","justify-content-center"],[1,"col-md-8"],["class","alert alert-warning",4,"ngIf"],["class","alert alert-success",4,"ngIf"],["name","form","role","form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"alert","alert-warning"],[1,"alert","alert-success"],["name","form","role","form",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","email",1,"form-label"],["data-cy","emailResetPassword","formControlName","email","id","email","name","email","placeholder","Your email","type","email",1,"form-control"],["email",""],[4,"ngIf"],["data-cy","submit","type","submit",1,"btn","btn-primary",3,"disabled"],["class","form-text text-danger",4,"ngIf"],[1,"form-text","text-danger"]],template:function(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1,"\n  "),e.TgZ(2,"div",0),e._uU(3,"\n    "),e.TgZ(4,"div",1),e._uU(5,"\n      "),e.TgZ(6,"h1"),e._uU(7,"Reset your password"),e.qZA(),e._uU(8,"\n\n      "),e._UZ(9,"jhi-alert-error"),e._uU(10,"\n\n      "),e.YNc(11,de,5,0,"div",2),e._uU(12,"\n\n      "),e.YNc(13,ge,5,0,"div",3),e._uU(14,"\n\n      "),e.YNc(15,ve,16,3,"form",4),e._uU(16,"\n    "),e.qZA(),e._uU(17,"\n  "),e.qZA(),e._uU(18,"\n"),e.qZA(),e._uU(19,"\n")),2&t&&(e.xp6(11),e.Q6J("ngIf",!r.success),e.xp6(2),e.Q6J("ngIf",r.success),e.xp6(2),e.Q6J("ngIf",!r.success))},dependencies:[s._Y,s.Fj,s.JJ,s.JL,g.O5,s.sg,s.u,Y.A],encapsulation:2}),n})(),data:{pageTitle:"Password"}};let Te=(()=>{class n{constructor(t,r){this.http=t,this.applicationConfigService=r}save(t){return this.http.post(this.applicationConfigService.getEndpointFor("api/account/register"),t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(p.eN),e.LFG(U.y))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ae=["email"];function qe(n,o){1&n&&(e.TgZ(0,"div",8)(1,"strong"),e._uU(2,"Registration saved!"),e.qZA(),e._uU(3," Please check your email for confirmation."),e.qZA())}function Ce(n,o){1&n&&(e.TgZ(0,"div",9)(1,"strong"),e._uU(2,"Registration failed!"),e.qZA(),e._uU(3," Please try again later."),e.qZA())}function Ie(n,o){1&n&&(e.TgZ(0,"div",9)(1,"strong"),e._uU(2,"Email is already in use!"),e.qZA(),e._uU(3," Please choose another one."),e.qZA())}function Fe(n,o){1&n&&(e.TgZ(0,"div",9),e._uU(1,"The password and its confirmation do not match!"),e.qZA())}function Ne(n,o){1&n&&(e.TgZ(0,"small",27),e._uU(1,"\n              Organization name is required.\n            "),e.qZA())}function Pe(n,o){1&n&&(e.TgZ(0,"small",27),e._uU(1,"\n              Organization name is required to be at least 2 characters.\n            "),e.qZA())}function be(n,o){1&n&&(e.TgZ(0,"small",27),e._uU(1,"\n              Organization name cannot be longer than 50 characters.\n            "),e.qZA())}function ye(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1,"\n            "),e.YNc(2,Ne,2,0,"small",26),e._uU(3,"\n\n            "),e.YNc(4,Pe,2,0,"small",26),e._uU(5,"\n\n            "),e.YNc(6,be,2,0,"small",26),e._uU(7,"\n          "),e.qZA()),2&n){const t=e.oxw(2);let r,i,a;e.xp6(2),e.Q6J("ngIf",null==(r=t.registerForm.get("orgName"))||null==r.errors?null:r.errors.required),e.xp6(2),e.Q6J("ngIf",null==(i=t.registerForm.get("orgName"))||null==i.errors?null:i.errors.minlength),e.xp6(2),e.Q6J("ngIf",null==(a=t.registerForm.get("orgName"))||null==a.errors?null:a.errors.maxlength)}}function Ye(n,o){1&n&&(e.TgZ(0,"small",27),e._uU(1,"\n              Organization address is required.\n            "),e.qZA())}function Re(n,o){1&n&&(e.TgZ(0,"small",27),e._uU(1,"\n              Organization address is required to be at least 2 characters.\n            "),e.qZA())}function Je(n,o){1&n&&(e.TgZ(0,"small",27),e._uU(1,"\n              Organization address cannot be longer than 50 characters.\n            "),e.qZA())}function Qe(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1,"\n            "),e.YNc(2,Ye,2,0,"small",26),e._uU(3,"\n\n            "),e.YNc(4,Re,2,0,"small",26),e._uU(5,"\n\n            "),e.YNc(6,Je,2,0,"small",26),e._uU(7,"\n          "),e.qZA()),2&n){const t=e.oxw(2);let r,i,a;e.xp6(2),e.Q6J("ngIf",null==(r=t.registerForm.get("orgAddress"))||null==r.errors?null:r.errors.required),e.xp6(2),e.Q6J("ngIf",null==(i=t.registerForm.get("orgAddress"))||null==i.errors?null:i.errors.minlength),e.xp6(2),e.Q6J("ngIf",null==(a=t.registerForm.get("orgAddress"))||null==a.errors?null:a.errors.maxlength)}}function Se(n,o){1&n&&(e.TgZ(0,"small",27),e._uU(1,"\n              Organization code is required.\n            "),e.qZA())}function Ee(n,o){1&n&&(e.TgZ(0,"small",27),e._uU(1,"\n              Organization code is required to be at least 2 characters.\n            "),e.qZA())}function ke(n,o){1&n&&(e.TgZ(0,"small",27),e._uU(1,"\n              Organization code cannot be longer than 10 characters.\n            "),e.qZA())}function Le(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1,"\n            "),e.YNc(2,Se,2,0,"small",26),e._uU(3,"\n\n            "),e.YNc(4,Ee,2,0,"small",26),e._uU(5,"\n\n            "),e.YNc(6,ke,2,0,"small",26),e._uU(7,"\n          "),e.qZA()),2&n){const t=e.oxw(2);let r,i,a;e.xp6(2),e.Q6J("ngIf",null==(r=t.registerForm.get("orgCode"))||null==r.errors?null:r.errors.required),e.xp6(2),e.Q6J("ngIf",null==(i=t.registerForm.get("orgCode"))||null==i.errors?null:i.errors.minlength),e.xp6(2),e.Q6J("ngIf",null==(a=t.registerForm.get("orgCode"))||null==a.errors?null:a.errors.maxlength)}}function Oe(n,o){1&n&&(e.TgZ(0,"small",27),e._uU(1," Your email is required. "),e.qZA())}function Me(n,o){1&n&&(e.TgZ(0,"small",27),e._uU(1," Your email is invalid. "),e.qZA())}function Ge(n,o){1&n&&(e.TgZ(0,"small",27),e._uU(1,"\n              Your email is required to be at least 5 characters.\n            "),e.qZA())}function ze(n,o){1&n&&(e.TgZ(0,"small",27),e._uU(1,"\n              Your email cannot be longer than 50 characters.\n            "),e.qZA())}function je(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1,"\n            "),e.YNc(2,Oe,2,0,"small",26),e._uU(3,"\n\n            "),e.YNc(4,Me,2,0,"small",26),e._uU(5,"\n\n            "),e.YNc(6,Ge,2,0,"small",26),e._uU(7,"\n\n            "),e.YNc(8,ze,2,0,"small",26),e._uU(9,"\n          "),e.qZA()),2&n){const t=e.oxw(2);let r,i,a,c;e.xp6(2),e.Q6J("ngIf",null==(r=t.registerForm.get("email"))||null==r.errors?null:r.errors.required),e.xp6(2),e.Q6J("ngIf",null==(i=t.registerForm.get("email"))||null==i.errors?null:i.errors.invalid),e.xp6(2),e.Q6J("ngIf",null==(a=t.registerForm.get("email"))||null==a.errors?null:a.errors.minlength),e.xp6(2),e.Q6J("ngIf",null==(c=t.registerForm.get("email"))||null==c.errors?null:c.errors.maxlength)}}function De(n,o){1&n&&(e.TgZ(0,"small",27),e._uU(1," Your password is required. "),e.qZA())}function Be(n,o){1&n&&(e.TgZ(0,"small",27),e._uU(1,"\n              Your password is required to be at least 4 characters.\n            "),e.qZA())}function Ke(n,o){1&n&&(e.TgZ(0,"small",27),e._uU(1,"\n              Your password cannot be longer than 50 characters.\n            "),e.qZA())}function He(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1,"\n            "),e.YNc(2,De,2,0,"small",26),e._uU(3,"\n\n            "),e.YNc(4,Be,2,0,"small",26),e._uU(5,"\n\n            "),e.YNc(6,Ke,2,0,"small",26),e._uU(7,"\n          "),e.qZA()),2&n){const t=e.oxw(2);let r,i,a;e.xp6(2),e.Q6J("ngIf",null==(r=t.registerForm.get("password"))||null==r.errors?null:r.errors.required),e.xp6(2),e.Q6J("ngIf",null==(i=t.registerForm.get("password"))||null==i.errors?null:i.errors.minlength),e.xp6(2),e.Q6J("ngIf",null==(a=t.registerForm.get("password"))||null==a.errors?null:a.errors.maxlength)}}function Ve(n,o){1&n&&(e.TgZ(0,"small",27),e._uU(1,"\n              Your confirmation password is required.\n            "),e.qZA())}function $e(n,o){1&n&&(e.TgZ(0,"small",27),e._uU(1,"\n              Your confirmation password is required to be at least 4 characters.\n            "),e.qZA())}function Xe(n,o){1&n&&(e.TgZ(0,"small",27),e._uU(1,"\n              Your confirmation password cannot be longer than 50 characters.\n            "),e.qZA())}function We(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1,"\n            "),e.YNc(2,Ve,2,0,"small",26),e._uU(3,"\n\n            "),e.YNc(4,$e,2,0,"small",26),e._uU(5,"\n\n            "),e.YNc(6,Xe,2,0,"small",26),e._uU(7,"\n          "),e.qZA()),2&n){const t=e.oxw(2);let r,i,a;e.xp6(2),e.Q6J("ngIf",null==(r=t.registerForm.get("confirmPassword"))||null==r.errors?null:r.errors.required),e.xp6(2),e.Q6J("ngIf",null==(i=t.registerForm.get("confirmPassword"))||null==i.errors?null:i.errors.minlength),e.xp6(2),e.Q6J("ngIf",null==(a=t.registerForm.get("confirmPassword"))||null==a.errors?null:a.errors.maxlength)}}function en(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",10),e.NdJ("ngSubmit",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.register())}),e._uU(1,"\n        "),e._uU(2,"\n        "),e.TgZ(3,"div",11),e._uU(4,"\n          "),e.TgZ(5,"label",12),e._uU(6,"Organization Name"),e.qZA(),e._uU(7,"\n          "),e._UZ(8,"input",13),e._uU(9,"\n          "),e._uU(10,"\n          "),e.YNc(11,ye,8,3,"div",14),e._uU(12,"\n        "),e.qZA(),e._uU(13,"\n        "),e._uU(14,"\n        "),e.TgZ(15,"div",11),e._uU(16,"\n          "),e.TgZ(17,"label",15),e._uU(18,"Organization Address"),e.qZA(),e._uU(19,"\n          "),e._UZ(20,"input",16),e._uU(21,"\n          "),e._uU(22,"\n          "),e.YNc(23,Qe,8,3,"div",14),e._uU(24,"\n        "),e.qZA(),e._uU(25,"\n\n        "),e._uU(26,"\n        "),e.TgZ(27,"div",11),e._uU(28,"\n          "),e.TgZ(29,"label",12),e._uU(30,"Organization Code"),e.qZA(),e._uU(31,"\n          "),e._UZ(32,"input",17),e._uU(33,"\n          "),e._uU(34,"\n          "),e.YNc(35,Le,8,3,"div",14),e._uU(36,"\n        "),e.qZA(),e._uU(37,"\n\n        "),e.TgZ(38,"div",11),e._uU(39,"\n          "),e.TgZ(40,"label",18),e._uU(41,"Email"),e.qZA(),e._uU(42,"\n          "),e._UZ(43,"input",19),e._uU(44,"\n\n          "),e.YNc(45,je,10,4,"div",14),e._uU(46,"\n        "),e.qZA(),e._uU(47,"\n\n        "),e.TgZ(48,"div",11),e._uU(49,"\n          "),e.TgZ(50,"label",20),e._uU(51,"New password"),e.qZA(),e._uU(52,"\n          "),e._UZ(53,"input",21),e._uU(54,"\n\n          "),e.YNc(55,He,8,3,"div",14),e._uU(56,"\n\n          "),e._UZ(57,"jhi-password-strength-bar",22),e._uU(58,"\n        "),e.qZA(),e._uU(59,"\n\n        "),e.TgZ(60,"div",11),e._uU(61,"\n          "),e.TgZ(62,"label",23),e._uU(63,"New password confirmation"),e.qZA(),e._uU(64,"\n          "),e._UZ(65,"input",24),e._uU(66,"\n\n          "),e.YNc(67,We,8,3,"div",14),e._uU(68,"\n        "),e.qZA(),e._uU(69,"\n\n        "),e.TgZ(70,"button",25),e._uU(71,"Register"),e.qZA(),e._uU(72,"\n      "),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.registerForm),e.xp6(11),e.Q6J("ngIf",t.registerForm.get("orgName").invalid&&(t.registerForm.get("orgName").dirty||t.registerForm.get("orgName").touched)),e.xp6(12),e.Q6J("ngIf",t.registerForm.get("orgAddress").invalid&&(t.registerForm.get("orgAddress").dirty||t.registerForm.get("orgAddress").touched)),e.xp6(12),e.Q6J("ngIf",t.registerForm.get("orgCode").invalid&&(t.registerForm.get("orgCode").dirty||t.registerForm.get("orgCode").touched)),e.xp6(10),e.Q6J("ngIf",t.registerForm.get("email").invalid&&(t.registerForm.get("email").dirty||t.registerForm.get("email").touched)),e.xp6(10),e.Q6J("ngIf",t.registerForm.get("password").invalid&&(t.registerForm.get("password").dirty||t.registerForm.get("password").touched)),e.xp6(2),e.Q6J("passwordToCheck",t.registerForm.get("password").value),e.xp6(10),e.Q6J("ngIf",t.registerForm.get("confirmPassword").invalid&&(t.registerForm.get("confirmPassword").dirty||t.registerForm.get("confirmPassword").touched)),e.xp6(3),e.Q6J("disabled",t.registerForm.invalid)}}function tn(n,o){if(1&n&&(e.TgZ(0,"h2"),e._uU(1,"\n        User settings for ["),e.TgZ(2,"strong"),e._uU(3),e.qZA(),e._uU(4,"]\n      "),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Oqu(t.settingsForm.value.email)}}function rn(n,o){1&n&&(e.TgZ(0,"div",5),e._uU(1,"\n        "),e.TgZ(2,"strong"),e._uU(3,"Settings saved!"),e.qZA(),e._uU(4,"\n      "),e.qZA())}function sn(n,o){1&n&&(e.TgZ(0,"small",14),e._uU(1,"\n              Your first name is required.\n            "),e.qZA())}function on(n,o){1&n&&(e.TgZ(0,"small",14),e._uU(1,"\n              Your first name is required to be at least 1 character\n            "),e.qZA())}function an(n,o){1&n&&(e.TgZ(0,"small",14),e._uU(1,"\n              Your first name cannot be longer than 50 characters\n            "),e.qZA())}function ln(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1,"\n            "),e.YNc(2,sn,2,0,"small",13),e._uU(3,"\n\n            "),e.YNc(4,on,2,0,"small",13),e._uU(5,"\n\n            "),e.YNc(6,an,2,0,"small",13),e._uU(7,"\n          "),e.qZA()),2&n){const t=e.oxw(2);let r,i,a;e.xp6(2),e.Q6J("ngIf",null==(r=t.settingsForm.get("first_name"))||null==r.errors?null:r.errors.required),e.xp6(2),e.Q6J("ngIf",null==(i=t.settingsForm.get("first_name"))||null==i.errors?null:i.errors.minlength),e.xp6(2),e.Q6J("ngIf",null==(a=t.settingsForm.get("first_name"))||null==a.errors?null:a.errors.maxlength)}}function un(n,o){1&n&&(e.TgZ(0,"small",14),e._uU(1,"\n              Your last name is required.\n            "),e.qZA())}function _n(n,o){1&n&&(e.TgZ(0,"small",14),e._uU(1,"\n              Your last name is required to be at least 1 character\n            "),e.qZA())}function mn(n,o){1&n&&(e.TgZ(0,"small",14),e._uU(1,"\n              Your last name cannot be longer than 50 characters\n            "),e.qZA())}function cn(n,o){if(1&n&&(e.TgZ(0,"div"),e._uU(1,"\n            "),e.YNc(2,un,2,0,"small",13),e._uU(3,"\n\n            "),e.YNc(4,_n,2,0,"small",13),e._uU(5,"\n\n            "),e.YNc(6,mn,2,0,"small",13),e._uU(7,"\n          "),e.qZA()),2&n){const t=e.oxw(2);let r,i,a;e.xp6(2),e.Q6J("ngIf",null==(r=t.settingsForm.get("last_name"))||null==r.errors?null:r.errors.required),e.xp6(2),e.Q6J("ngIf",null==(i=t.settingsForm.get("last_name"))||null==i.errors?null:i.errors.minlength),e.xp6(2),e.Q6J("ngIf",null==(a=t.settingsForm.get("last_name"))||null==a.errors?null:a.errors.maxlength)}}function dn(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"form",6),e.NdJ("ngSubmit",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.save())}),e._uU(1,"\n        "),e.TgZ(2,"div",7),e._uU(3,"\n          "),e.TgZ(4,"label",8),e._uU(5,"First Name"),e.qZA(),e._uU(6,"\n          "),e._UZ(7,"input",9),e._uU(8,"\n\n          "),e.YNc(9,ln,8,3,"div",2),e._uU(10,"\n        "),e.qZA(),e._uU(11,"\n\n        "),e.TgZ(12,"div",7),e._uU(13,"\n          "),e.TgZ(14,"label",10),e._uU(15,"Last Name"),e.qZA(),e._uU(16,"\n          "),e._UZ(17,"input",11),e._uU(18,"\n\n          "),e.YNc(19,cn,8,3,"div",2),e._uU(20,"\n        "),e.qZA(),e._uU(21,"\n\n        "),e._uU(22,"\n        "),e._uU(23,"\n        "),e._uU(24,"\n        "),e._uU(25,"\n        "),e._uU(26,"\n        "),e._uU(27,"\n        "),e._uU(28,"\n        "),e._uU(29,"\n        "),e._uU(30,"\n        "),e._uU(31,"\n        "),e._uU(32,"\n\n        "),e._uU(33,"\n        "),e._uU(34,"\n\n        "),e._uU(35,"\n\n        "),e._uU(36,"\n        "),e._uU(37,"\n        "),e._uU(38,"\n\n        "),e._uU(39,"\n        "),e._uU(40,"\n        "),e._uU(41,"\n        "),e._uU(42,"\n        "),e._uU(43,"\n\n        "),e.TgZ(44,"button",12),e._uU(45,"Save"),e.qZA(),e._uU(46,"\n      "),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("formGroup",t.settingsForm),e.xp6(9),e.Q6J("ngIf",t.settingsForm.get("first_name").invalid&&(t.settingsForm.get("first_name").dirty||t.settingsForm.get("first_name").touched)),e.xp6(10),e.Q6J("ngIf",t.settingsForm.get("last_name").invalid&&(t.settingsForm.get("last_name").dirty||t.settingsForm.get("last_name").touched)),e.xp6(25),e.Q6J("disabled",t.settingsForm.invalid)}}const v={},pn=[{path:"",children:[m,B,_e,Ze,{path:"register",component:(()=>{class n{constructor(t){this.registerService=t,this.doNotMatch=!1,this.error=!1,this.errorEmailExists=!1,this.success=!1,this.registerForm=new s.cw({email:new s.NI("",{nonNullable:!0,validators:[s.kI.required,s.kI.minLength(5),s.kI.maxLength(254),s.kI.email]}),password:new s.NI("",{nonNullable:!0,validators:[s.kI.required,s.kI.minLength(4),s.kI.maxLength(50)]}),confirmPassword:new s.NI("",{nonNullable:!0,validators:[s.kI.required,s.kI.minLength(4),s.kI.maxLength(50)]}),orgName:new s.NI("",{nonNullable:!0,validators:[s.kI.required,s.kI.minLength(2),s.kI.maxLength(50)]}),orgAddress:new s.NI("",{nonNullable:!0,validators:[s.kI.required,s.kI.minLength(2),s.kI.maxLength(50)]}),orgCode:new s.NI("",{nonNullable:!0,validators:[s.kI.required,s.kI.minLength(2),s.kI.maxLength(10)]})})}ngAfterViewInit(){this.email&&this.email.nativeElement.focus()}register(){this.doNotMatch=!1,this.error=!1,this.errorEmailExists=!1;const{password:t,confirmPassword:r,email:i,orgName:a,orgAddress:c,orgCode:b}=this.registerForm.getRawValue();t!==r?this.doNotMatch=!0:this.registerService.save({email:i,password:t,orgName:a,orgAddress:c,orgCode:b}).subscribe({next:()=>this.success=!0,error:y=>this.processError(y)})}processError(t){400===t.status&&"https://localhost/problem/email-already-used"===t.error.type?this.errorEmailExists=!0:this.error=!0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Te))},n.\u0275cmp=e.Xpm({type:n,selectors:[["jhi-register"]],viewQuery:function(t,r){if(1&t&&e.Gf(Ae,5),2&t){let i;e.iGM(i=e.CRH())&&(r.email=i.first)}},decls:43,vars:5,consts:[[1,"d-flex","justify-content-center"],[1,"col-md-8"],["data-cy","registerTitle"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["name","form","role","form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"mt-3","alert","alert-warning"],["routerLink","/login",1,"alert-link"],[1,"alert","alert-success"],[1,"alert","alert-danger"],["name","form","role","form",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","orgName",1,"form-label"],["data-cy","orgName","formControlName","orgName","id","orgName","name","orgName","placeholder","Organization name","type","text",1,"form-control"],[4,"ngIf"],["for","orgAddress",1,"form-label"],["data-cy","orgAddress","formControlName","orgAddress","id","orgAddress","name","orgAddress","placeholder","Organization address","type","text",1,"form-control"],["data-cy","orgCode","formControlName","orgCode","id","orgCode","name","orgCode","placeholder","Organization Code","type","text",1,"form-control"],["for","email",1,"form-label"],["data-cy","email","formControlName","email","id","email","name","email","placeholder","Your email","type","email",1,"form-control"],["for","password",1,"form-label"],["data-cy","firstPassword","formControlName","password","id","password","name","password","placeholder","New password","type","password",1,"form-control"],[3,"passwordToCheck"],["for","confirmPassword",1,"form-label"],["data-cy","secondPassword","formControlName","confirmPassword","id","confirmPassword","name","confirmPassword","placeholder","Confirm the new password","type","password",1,"form-control"],["data-cy","submit","type","submit",1,"btn","btn-primary",3,"disabled"],["class","form-text text-danger",4,"ngIf"],[1,"form-text","text-danger"]],template:function(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1,"\n  "),e.TgZ(2,"div",0),e._uU(3,"\n    "),e.TgZ(4,"div",1),e._uU(5,"\n      "),e.TgZ(6,"h1",2),e._uU(7,"Registration as an organization"),e.qZA(),e._uU(8,"\n\n      "),e.YNc(9,qe,4,0,"div",3),e._uU(10,"\n\n      "),e.YNc(11,Ce,4,0,"div",4),e._uU(12,"\n\n      "),e.YNc(13,Ie,4,0,"div",4),e._uU(14,"\n\n      "),e.YNc(15,Fe,2,0,"div",4),e._uU(16,"\n    "),e.qZA(),e._uU(17,"\n  "),e.qZA(),e._uU(18,"\n\n  "),e.TgZ(19,"div",0),e._uU(20,"\n    "),e.TgZ(21,"div",1),e._uU(22,"\n      "),e.YNc(23,en,73,9,"form",5),e._uU(24,"\n\n      "),e.TgZ(25,"div",6),e._uU(26,"\n        "),e.TgZ(27,"span"),e._uU(28,"If you want to "),e.qZA(),e._uU(29,"\n        "),e.TgZ(30,"a",7),e._uU(31,"sign in"),e.qZA(),e.TgZ(32,"span"),e._uU(33,", you can try the default accounts:"),e._UZ(34,"br"),e._uU(35,'- Administrator (login="admin" and password="admin") '),e._UZ(36,"br"),e._uU(37,'- User (login="user" and\n          password="user").'),e.qZA(),e._uU(38,"\n      "),e.qZA(),e._uU(39,"\n    "),e.qZA(),e._uU(40,"\n  "),e.qZA(),e._uU(41,"\n"),e.qZA(),e._uU(42,"\n")),2&t&&(e.xp6(9),e.Q6J("ngIf",r.success),e.xp6(2),e.Q6J("ngIf",r.error),e.xp6(2),e.Q6J("ngIf",r.errorEmailExists),e.xp6(2),e.Q6J("ngIf",r.doNotMatch),e.xp6(8),e.Q6J("ngIf",!r.success))},dependencies:[s._Y,s.Fj,s.JJ,s.JL,g.O5,s.sg,s.u,l.yS,h],encapsulation:2}),n})(),data:{pageTitle:"Registration"}},{path:"settings",component:(()=>{class n{constructor(t){this.accountService=t,this.success=!1,this.settingsForm=new s.cw({first_name:new s.NI(v.first_name,{nonNullable:!0,validators:[s.kI.required,s.kI.minLength(1),s.kI.maxLength(50)]}),last_name:new s.NI(v.last_name,{nonNullable:!0,validators:[s.kI.required,s.kI.minLength(1),s.kI.maxLength(50)]}),email:new s.NI(v.email,{nonNullable:!0,validators:[s.kI.required,s.kI.minLength(5),s.kI.maxLength(254),s.kI.email]}),langKey:new s.NI(v.langKey,{nonNullable:!0}),activated:new s.NI(v.activated,{nonNullable:!0}),authorities:new s.NI(v.authorities,{nonNullable:!0}),imageUrl:new s.NI(v.imageUrl,{nonNullable:!0})})}ngOnInit(){this.accountService.identity().subscribe(t=>{t&&this.settingsForm.patchValue(t)})}save(){this.success=!1;const t=this.settingsForm.getRawValue();this.accountService.save(t).subscribe(()=>{this.success=!0,this.accountService.authenticate(t)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Z.B))},n.\u0275cmp=e.Xpm({type:n,selectors:[["jhi-settings"]],decls:17,vars:3,consts:[[1,"d-flex","justify-content-center"],[1,"col-md-8"],[4,"ngIf"],["class","alert alert-success",4,"ngIf"],["name","form","novalidate","","role","form",3,"formGroup","ngSubmit",4,"ngIf"],[1,"alert","alert-success"],["name","form","novalidate","","role","form",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","first_name",1,"form-label"],["data-cy","first_name","formControlName","first_name","id","first_name","name","first_name","placeholder","Your first name","type","text",1,"form-control"],["for","last_name",1,"form-label"],["data-cy","last_name","formControlName","last_name","id","last_name","name","last_name","placeholder","Your last name","type","text",1,"form-control"],["data-cy","submit","type","submit",1,"btn","btn-primary",3,"disabled"],["class","form-text text-danger",4,"ngIf"],[1,"form-text","text-danger"]],template:function(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1,"\n  "),e.TgZ(2,"div",0),e._uU(3,"\n    "),e.TgZ(4,"div",1),e._uU(5,"\n      "),e.YNc(6,tn,5,1,"h2",2),e._uU(7,"\n\n      "),e.YNc(8,rn,5,0,"div",3),e._uU(9,"\n\n      "),e._UZ(10,"jhi-alert-error"),e._uU(11,"\n\n      "),e.YNc(12,dn,47,4,"form",4),e._uU(13,"\n    "),e.qZA(),e._uU(14,"\n  "),e.qZA(),e._uU(15,"\n"),e.qZA(),e._uU(16,"\n")),2&t&&(e.xp6(6),e.Q6J("ngIf",r.settingsForm.value.email),e.xp6(2),e.Q6J("ngIf",r.success),e.xp6(4),e.Q6J("ngIf",r.settingsForm.value.email))},dependencies:[s._Y,s.Fj,s.JJ,s.JL,g.O5,s.sg,s.u,Y.A],encapsulation:2}),n})(),data:{pageTitle:"Settings"},canActivate:[f.Z]}]}];let fn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[C.m,l.Bz.forChild(pn)]}),n})()},486:(J,T,_)=>{_.d(T,{A:()=>g});var l=_(4650),C=_(4728),I=_(8821),e=_(6895),p=_(945);function U(d,w){if(1&d){const u=l.EpF();l.TgZ(0,"ngb-alert",4),l.NdJ("closed",function(){l.CHM(u);const f=l.oxw().$implicit,s=l.oxw();return l.KtG(s.close(f))}),l._uU(1,"\n      "),l.TgZ(2,"pre"),l._uU(3),l.qZA(),l._uU(4,"\n    "),l.qZA()}if(2&d){const u=l.oxw().$implicit;l.Q6J("type",u.type),l.xp6(3),l.Oqu(u.error)}}function F(d,w){if(1&d&&(l.TgZ(0,"div",2),l._uU(1,"\n    "),l.YNc(2,U,5,2,"ngb-alert",3),l._uU(3,"\n  "),l.qZA()),2&d){const u=w.$implicit,m=l.oxw();l.Q6J("ngClass",m.setClasses(u)),l.xp6(2),l.Q6J("ngIf",u.error)}}let g=(()=>{class d{constructor(u,m){this.alertService=u,this.eventManager=m,this.alerts=[],this.errorListener=m.subscribe("sddpLoggerFrontendApp.error",f=>{this.addErrorAlert(f.content.error)}),this.httpErrorListener=m.subscribe("sddpLoggerFrontendApp.httpError",f=>{const s=f.content;switch(s.status){case 0:this.addErrorAlert("Server not reachable");break;case 400:{const N=s.headers.keys();let Z=null;for(const h of N)h.toLowerCase().endsWith("app-error")&&(Z=s.headers.get(h));if(Z)this.addErrorAlert(Z);else if(""!==s.error&&s.error.fieldErrors){const h=s.error.fieldErrors;for(const x of h){["Min","Max","DecimalMin","DecimalMax"].includes(x.message)&&(x.message="Size");const A=x.field.replace(/\[\d*\]/g,"[]"),P=A.charAt(0).toUpperCase()+A.slice(1);this.addErrorAlert(`Error on field "${P}"`)}}else this.addErrorAlert(""!==s.error&&s.error.message?s.error.detail??s.error.message:s.error);break}case 404:this.addErrorAlert("Not found");break;default:this.addErrorAlert(""!==s.error&&s.error.message?s.error.detail??s.error.message:s.error)}})}setClasses(u){const m={"jhi-toast":Boolean(u.toast)};return u.position?{...m,[u.position]:!0}:m}ngOnDestroy(){this.eventManager.destroy(this.errorListener),this.eventManager.destroy(this.httpErrorListener)}close(u){u.close?.(this.alerts)}addErrorAlert(u){let m;m="string"==typeof u?u:u.error?u.error:JSON.stringify(u),this.alertService.addAlert({type:"danger",error:m},this.alerts)}}return d.\u0275fac=function(u){return new(u||d)(l.Y36(C.c),l.Y36(I.Q))},d.\u0275cmp=l.Xpm({type:d,selectors:[["jhi-alert-error"]],decls:5,vars:1,consts:[["role","alert",1,"alerts"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[3,"type","closed",4,"ngIf"],[3,"type","closed"]],template:function(u,m){1&u&&(l.TgZ(0,"div",0),l._uU(1,"\n  "),l.YNc(2,F,4,2,"div",1),l._uU(3,"\n"),l.qZA(),l._uU(4,"\n")),2&u&&(l.xp6(2),l.Q6J("ngForOf",m.alerts))},dependencies:[e.mk,e.sg,e.O5,p.xm],encapsulation:2}),d})()}}]);